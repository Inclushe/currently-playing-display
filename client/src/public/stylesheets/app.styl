@import 'variables.styl'

body
  margin: 0
  padding: 0
  background: #3e7690
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif
  overflow: hidden

.app
  display: flex
  justify-content: center
  align-items: center
  height: 100vh
  background-color: $gray900

.background
  position: absolute
  height: 100%
  width: 100%
  background-size: cover
  background-position: center
  // Allow enough contrast for the track info while keeping the color
  filter: blur(1em) brightness(0.7) saturate(1.3)
  transform: scale(1.2)
  overflow: hidden
  z-index: 1
  animation: move 60s ease-in-out infinite alternate
  opacity: 1
  &--gradient
    // Gradients are a bit too dull, so we improvise.
    filter: blur(0.5em) brightness(0.9) saturate(4)
    transform: scale(1.1)
    transition: opacity 500ms
  &--opaque
    opacity: 0.5

.bg-transition
  &-enter-active, &-leave-active
    transition: opacity 2000ms ease-out 50ms, transform 2000ms ease-out 50ms
  &-enter
    opacity: 0
    transform: scale(1.1)
  &-leave-to
    opacity: 1
    transform: scale(1.3)

.cover-transition
  &-enter-active, &-leave-active
    transition: opacity 1000ms ease-out 50ms, transform 2000ms ease-out 50ms
  &-enter
    opacity: 0
  &-leave-to
    opacity: 0

.display__info .info-transition
  &-enter-active, &-leave-active
    transition: transform 1000ms cubic-bezier(0,1,0,1) 0ms
  &-leave-active
    transition: 0s
    display: none
  &-enter
    transform: translateY(0.5rem)

@keyframes rotate
  0%
    transform: rotate(0deg) scale(2.2)
  100%
    transform: rotate(360deg) scale(2.2)

@keyframes move
  0%
    background-position: 50% 40%
  100%
    background-position: 50% 60%

.display
  display: grid
  grid-template-rows: repeat(12, 3.25vw)
  grid-template-columns: repeat(20, 3.25vw)
  grid-gap: 1vw
  color: white
  z-index: 1
  &__album-cover
    background: black
    grid-row: 3 / 11
    grid-column: 1 / 9
    border-radius: 1em
    background-size: cover
    background-position: center
    background-repeat: no-repeat
    box-shadow: 0 4em 8em rgba(0, 0, 0, 0.2),
                0 1em 2em rgba(0, 0, 0, 0.5),
                inset 0 0 0.5em rgba(0, 0, 0, 0.5)
  &__info
    grid-row: 3 / 11
    grid-column: 11 / -1
    display: flex
    flex-direction: column
    justify-content: center
    h1, h2, h3
      transform: translateY(0rem)
    h1
      margin: 0
      padding: 0
      // Title can mess with making the info aligned properly
      margin-top: -0.125em
      padding-bottom: 0.25em
      font-size: 6em
      font-family: "Barlow Condensed", sans-serif
      font-weight: bold
      line-height: 1
    h2
      margin: 0
      padding: 0.25em 0
      font-size: 4em
      font-family: "Barlow Semi Condensed", sans-serif
      font-weight: 400
      opacity: 0.9
    h3
      margin: 0
      padding: 0
      padding-top: 0.25em
      font-size: 3em
      font-family: "Barlow Semi Condensed", sans-serif
      font-weight: 400
      opacity: 0.9

@media screen and (max-width: 75em)
  .display__info
    h1
      font-size: 6em * 0.75
    h2
      font-size: 2em * 0.75
    h3
      font-size: 1.5em * 0.75

@media screen and (max-width: 64em)
  .display__info
    h1
      font-size: 6em * 0.5
    h2
      font-size: 2em * 0.625
    h3
      font-size: 1.5em * 0.75

@media screen and (max-width: 48em)
  .display__info
    h1
      font-size: 6em * 0.25
    h2
      font-size: 2em * 0.5
    h3
      font-size: 1.5em * 0.75

.status-view
  z-index: 1
  padding: 1em
  h1
    font-family: $mainFont
    font-size: 2em
    font-weight: 900
    line-height: 1.25
    color: $gray100
    letter-spacing: 0.125em
    text-transform: uppercase
  p
    margin-top: 1em
    font-family: $mainFont
    font-weight: normal
    font-size: 2em
    line-height: 1.25
    color: $gray200
    max-width: 14em
  a
    color: $purple400
  pre
    margin-top: 2em
    color: $gray200

@media screen and (max-width: 64em)
  .status-view
    h1
      font-size: 2em * 0.75
    p
      font-size: 2em * 0.75